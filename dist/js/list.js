"use strict";function initMain(){$.ajax({url:"../data/Llist.json",type:"GET",success:function(n){function i(a){var n="";a.forEach(function(a,t){n+='        \n          <li>\n          <img src="'.concat(a.img,'" alt="">\n          <p class="money"> <b>¥</b>').concat(a.money,'</p>\n          <p class="mainTitle">').concat(a.title,'</p>\n          <span>加入购物车</span>\n          <p class="pro"><i class="iconfont icon-duihuakuang"></i>暂无评论 <i class="iconfont icon-dianzan"> </i> <span>').concat(getRandomInt(60,100),'%</span></p>\n          <p class="shop-text"><span>自营</span> 谷高数码手机专营店 </p>\n          </li>')}),$(".main-list").html(n)}$(".M-box3").pagination({pageCount:Math.ceil(n.length/16),jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(a){var t=a.getCurrent();i(n.slice(16*(t-1),16*t))}}),$(".select-nva a").click(function(){$(this).addClass("active").siblings().removeClass("active"),$(".select-nva a").eq(1).hasClass("active")?(n.sort(function(a,t){return a.money-t.money}),i(n.slice(0,16))):$(".select-nva a").eq(2).hasClass("active")&&(n.sort(function(a,t){return t.money-a.money}),i(n.slice(0,16)))}),i(n.slice(0,16)),$(".main-list li").each(function(a,t){$(this).data("data-id",a),$(this).data("data-img",$(this).children("img").prop("src")),$(this).data("data-money",$(this).children(".money").text().replace("¥","")),$(this).data("data-info",$(this).children(".mainTitle").text()),$(this).data("data-num",0)}),$(".main-list li span").click(function(){var t=this,a=JSON.parse(localStorage.getItem("list")||"[]"),n=!0;a.forEach(function(a){a.id==$(t).parent().data("data-id")&&(a.num=a.num+1,n=!1)});var i={id:$(this).parent().data("data-id"),img:$(this).parent().data("data-img"),money:$(this).parent().data("data-money"),info:$(this).parent().data("data-info"),num:$(this).parent().data("data-num")};n&&a.push(i),localStorage.setItem("list",JSON.stringify(a))})}})}function initHeaderInfo(){$.ajax({url:"../data/Lheader-info.json",type:"GET",success:function(a){var n="";a.forEach(function(a,t){a.success.forEach(function(a){n+="<li>".concat(a,"</li>")})}),$(".header-info").html(n)}}),$.ajax({url:"../data/header-category.json",type:"GET",success:function(a){var t="";a.forEach(function(a){t+='            \n            <dl class="clearfix">\n            <dt>'.concat(a.title,"</dt>\n          "),a.des.forEach(function(a){t+="<dd>".concat(a,"</dd>")}),t+="</dl>"}),$(".category-list").html(t)}})}function initNavTop(){var a=0;setInterval(function(){120<=(a+=30)&&($(".guangbo").css("top",0),a=30),$(".guangbo").animate({top:-a})},2e3)}function getRandomInt(a,t){return a=Math.ceil(a),t=Math.floor(t),Math.floor(Math.random()*(t-a+1))+a}$(function(){initNavTop(),initHeaderInfo(),initMain()});