"use strict";function initRandom(){$.ajax({url:"../data/Llist.json",type:"GET",success:function(a){$(".cha_t a").click(function(){var t=function(){for(var t="",n=0;n<a.length;n++){var i=parseInt(57*Math.random());n<3&&(t+='\n                        <li>\n                        <img src="'.concat(a[i].img,'" alt="">\n                        <p>').concat(a[i].title,"</p>\n                        <span>").concat(a[i].money,"</span>\n                        </li>"))}return t}();$(".cha_price").html(t)})}})}function initmainMlddle(){$("#yangse a").click(function(){$(this).addClass("active").siblings().removeClass("active")}),$(".bangben a").click(function(){$(this).addClass("active").siblings().removeClass("active")});var t=1;$(".bth-up").click(function(){1<++t&&$(".bth-down").css("backgroundColor","#fff"),$(".num>p").text(t)}),$(".bth-down").click(function(){t<=1?$(".bth-down").css("backgroundColor","#ddd"):(t--,$(".num>p").text(t))})}function initPageHtml(){var a=JSON.parse(localStorage.getItem("goodsInfo"));a||(alert("您要查看的数据不存在"),window.location.href="./list.html"),$(".middleImg").attr("src",a.img),$(".sub-list img").attr("src",a.img),$(".box-bg img").attr("src",a.img),$(".data-title").text(a.title),$(".data-money").text(a.money),$(".select-img").text(a.img),$(".gouwuche").click(function(){var t=JSON.parse(localStorage.getItem("cartList"))||[];if(t.some(function(t){return t.id===a.id})){for(var n=null,i=0;i<t.length;i++)if(t[i].id===a.id){n=t[i];break}n.num=Number(n.num)+Number($(".num").text()),n.xiaoji=n.num*n.money}else a.num=$(".num").text(),a.xiaoji=a.money,a.isSelect=!1,t.push(a);localStorage.setItem("cartList",JSON.stringify(t))})}function initMain(){var c=parseInt($(".mask").css("width")),s=parseInt($(".mask").css("height")),r=parseInt($(".box-middle").css("width"))-c,l=parseInt($(".box-middle").css("height"))-s;$(".box-middle").hover(function(t){var o=this;$(".mask").show(),$(".box-bg").show(),$(".box-middle").mousemove(function(t){var n=o.parentNode.parentNode.offsetLeft,i=o.parentNode.parentNode.offsetTop,a=t.pageX-n-c/2,e=t.pageY-i-s/2;a=r<(a=a<0?0:a)?r:a,e=l<(e=e<0?0:e)?l:e,$(".mask").css({left:a,top:e}),$(".box-bg").children("img").css({left:a/r*-350,top:e/l*-350})})},function(){$(".mask").hide(),$(".box-bg").hide()})}function initHeaderInfo(){$.ajax({url:"../data/Dheader-info.json",type:"GET",success:function(t){var i="";t.forEach(function(t,n){t.success.forEach(function(t){i+="<li>".concat(t,"</li>")})}),$(".header-info").html(i)}}),$.ajax({url:"../data/header-category.json",type:"GET",success:function(t){var n="";t.forEach(function(t){n+='            \n              <dl class="clearfix">\n              <dt>'.concat(t.title,"</dt>\n            "),t.des.forEach(function(t){n+="<dd>".concat(t,"</dd>")}),n+="</dl>"}),$(".category-list").html(n)}})}function initNavTop(){var t=0;setInterval(function(){120<=(t+=30)&&($(".guangbo").css("top",0),t=30),$(".guangbo").animate({top:-t})},2e3)}$(function(){initNavTop(),initHeaderInfo(),initPageHtml(),initMain(),initmainMlddle(),initRandom()});