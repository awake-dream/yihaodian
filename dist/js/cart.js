"use strict";$(function(){var s=JSON.parse(localStorage.getItem("cartList"));function n(){var n=s.every(function(n){return!0===n.isSelect}),a='\n    <div class="header">\n    <div class="header-in">\n      <div class="header-title clearfix">\n        <div class="header-left fl clearfix">\n          <h1>\n            <a href="javascript:;"></a>\n            <a href="javascript:;"></a>\n          </h1>\n          <p>配送至: </p>\n          <div>\n            <a href="javascript:;">上海</a>\n            <span>|</span>\n            <a href="javascript:;">静安区</a>\n            <span>|</span>\n            <a href="javascript:;">城区</a>\n            <i class="iconfont icon-xiajiantou"></i>\n          </div>\n        </div>\n  \n        <div class="header-right fr">\n          <input type="text" placeholder="请输入关键字">\n          <i class="iconfont icon-fangdajing"></i>\n        </div>\n      </div>\n      <div class="header-list">\n        <span class="checkbox">\n          <a href="javascript:;" class="all" style="background-color: '.concat(n?"#ff5e5e":"#fff",'">\n            <i class="iconfont icon-gouxuan"></i>\n          </a>\n          全选\n        </span>\n        <span class="tit"> 商品信息 </span>\n        <span class="price">单价（元） </span>\n        <span class="num"> 数量 </span>\n        <span> 小计（元） </span>\n        <span class="act">操作</span>\n\n      </div>\n    </div>\n  </div>');s.forEach(function(n){a+='\n    <div class="cart">\n      <div class="cart-in">\n        <div class="cart-list">\n  \n          <div class="cart-title">\n            <a href="javascript:;" class="selectOne" data-id='.concat(n.id,' style="background-color: ').concat(n.isSelect?"#ff5e5e":"#fff",'">\n              <i class="iconfont icon-gouxuan"></i>\n            </a>\n            谷高数码手机专营店\n          </div>\n  \n          <div class="cart-middle clearfix">\n            <a href="javascript:;" class="selectOne" data-id=').concat(n.id,' style="background-color: ').concat(n.isSelect?"#ff5e5e":"#fff",'">\n              <i class="iconfont icon-gouxuan"></i>\n            </a>\n            <img src="').concat(n.img,'" alt="">\n            <div class="info">\n              <a href="javascript:;">\n                ').concat(n.title,'\n              </a>\n              <p>\n                <span> 7 </span>\n                <a href="javascript:;">\n                  紫玉幻境 4G版 全网通8G+256G\n                </a>\n              </p>\n            </div>\n  \n            <p class="item_price fl">\n              ').concat(n.money,'\n            </p>\n  \n            <div class="num_act fl">\n              <span class="bth-down" data-id=').concat(n.id,'> - </span>\n              <input type="text" value="').concat(n.num,'">\n              <span class="bth-up" data-id=').concat(n.id,'> + </span>\n            </div>\n  \n            <div class="amount fl">\n              <div class="money">\n                ').concat(n.xiaoji.toFixed(2),'\n              </div>\n              <div class="weight">\n                1.00kg\n              </div>\n            </div>\n  \n            <div class="item_act fl">\n              <i class="iconfont icon-02"></i>\n              <i class="iconfont icon-lajitong del" data-id=').concat(n.id,'></i>\n            </div>\n  \n  \n          </div>\n  \n          <div class="cart-amount">\n            商品总价格 : \n            <span>').concat(n.xiaoji.toFixed(2),"</span>\n          </div>\n  \n        </div>\n      </div>\n    </div>")});var i=s.filter(function(n){return n.isSelect}),c=0,t=0;i.forEach(function(n){c+=n.num,t+=n.xiaoji}),a+='\n    <div class="tools">\n    <div class="tools-in clearfix">\n      <div class="tools-left fl">\n        <a href="javascript:;" class="all" style="background-color: '.concat(n?"#ff5e5e":"#fff",'">\n          <i class="iconfont icon-gouxuan"></i>\n        </a>\n        <a href="javascript:;">\n          全选（共 <span class="res">').concat(s.length,'</span> 件）\n        </a>\n        <s>|</s>\n        <a href="javascript:;" class="all-del">批量删除</a>\n      </div>\n      <div class="tools-right fr clearfix">\n        <a href="javascript:;">去结算</a>\n        <p>合计: <b class="total">').concat(t.toFixed(2),'</b></p>\n        <span>|</span>\n        <div>已选商品 <span class="goods_num">').concat(c,"</span> 件 <s>预览 </s> </div>\n      </div>\n    </div>\n    </div>\n    "),$(".main").html(a)}0===s.length?$(".hide").show():(n(),$(".main").on("click",".all",function(){$(this).css("backgroundColor","#ff5e5e");var a=!1;a="rgb(255, 94, 94)"==$(this).css("backgroundColor"),s.forEach(function(n){n.isSelect=a}),n(),localStorage.setItem("cartList",JSON.stringify(s))}),$(".main").on("click",".selectOne",function(){var a=$(this).data("id");s.forEach(function(n){n.id==a&&(n.isSelect=!n.isSelect)}),n(),localStorage.setItem("cartList",JSON.stringify(s))}),$(".main").on("click",".bth-down",function(){var a=$(this).data("id");s.forEach(function(n){n.id==a&&(1<n.num&&n.num--,n.xiaoji=n.money*n.num)}),n(),localStorage.setItem("cartList",JSON.stringify(s))}),$(".main").on("click",".bth-up",function(){var a=$(this).data("id");s.forEach(function(n){n.id==a&&(n.num++,n.xiaoji=n.money*n.num)}),n(),localStorage.setItem("cartList",JSON.stringify(s))}),$(".main").on("click",".del",function(){var a=$(this).data("id");$(this).parents(".cart").remove();var n=s.filter(function(n){return n.id!=a});localStorage.setItem("cartList",JSON.stringify(n))}),$(".main").on("click",".all-del",function(){$(".cart").remove(),$(".res").text("0"),$(".goods_num").text("0"),$(".total").text("0.00"),localStorage.setItem("cartList",JSON.stringify([]))}))});