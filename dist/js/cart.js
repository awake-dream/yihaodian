"use strict";function initSelect(){$(".all").click(function(){$(this).toggleClass("active"),$(this).hasClass("active")?$(".select").css("backgroundColor","#ff5e5e"):$(".select").css("backgroundColor","#fff")})}function initCart(){var n=JSON.parse(localStorage.getItem("list")||"[]"),t="";function i(){$(".money").each(function(){var n=parseFloat($(this).parents(".cart-middle").children(".item_price").text()),t=parseFloat($(this).parents(".cart-middle").children(".num_act").children("input").val());$(this).text(n*t+".00"),$(this).parents(".cart-list").children(".cart-amount").children("span").text(n*t+".00")})}n.forEach(function(n){t+='      \n        <div class="cart-list" name="'.concat(n.id,'">\n\n        <div class="cart-title">\n          <a href="javascript:;" class="select">\n            <i class="iconfont icon-gouxuan"></i>\n          </a>\n          谷高数码手机专营店\n        </div>\n\n        <div class="cart-middle clearfix">\n          <a href="javascript:;" class="select">\n            <i class="iconfont icon-gouxuan"></i>\n          </a>\n          <img src="').concat(n.img,'" alt="">\n          <div class="info">\n            <a href="javascript:;">\n              ').concat(n.info,'\n            </a>\n            <p>\n              <span> 7 </span>\n              <a href="javascript:;">\n                紫玉幻境 4G版 全网通8G+256G\n              </a>\n            </p>\n          </div>\n\n          <p class="item_price fl">\n            ').concat(n.money,'\n          </p>\n\n          <div class="num_act fl">\n            <span class="bth-down"> - </span>\n            <input type="text" value="').concat(n.num+1,'">\n            <span class="bth-up"> + </span>\n          </div>\n\n          <div class="amount fl">\n            <div class="money">\n\n            </div>\n            <div class="weight">\n              1.00kg\n            </div>\n          </div>\n\n          <div class="item_act fl">\n            <i class="iconfont icon-02"></i>\n            <i class="iconfont icon-lajitong del"></i>\n          </div>\n\n\n        </div>\n\n        <div class="cart-amount">\n          商品总价格 : \n          <span></span>\n        </div>\n\n        </div>')}),$(".cart-in").html(t),i(),$(".bth-up").click(function(){var n=$(this).prev().val();1<++n&&$(this).prevAll(".bth-down").css("color","#666"),$(this).prev().val(n),i()}),$(".bth-down").click(function(){var n=$(this).next().val();--n<2?$(this).css("color","#dfdfdf"):$(this).css("color","#666"),n<1?n=1:($(this).next().val(n),i())}),$(".del").click(function(){var t=this;$(this).parents(".cart-list").remove();var n=JSON.parse(localStorage.getItem("list")||"[]").filter(function(n){return!($(t).parents(".cart-list").attr("name")==n.id)});localStorage.setItem("list",JSON.stringify(n))})}$(function(){initCart(),initSelect()});